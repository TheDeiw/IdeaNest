# ‚úÖ –ó–ú–Ü–ù–ò –í–ò–ö–û–ù–ê–ù–Ü!

## –©–æ –±—É–ª–æ –∑—Ä–æ–±–ª–µ–Ω–æ:

### 1. ‚ùå –í–∏–¥–∞–ª–µ–Ω–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ —Ç–µ–≥–∏ –¥–ª—è –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

**–§–∞–π–ª:** `lib/src/features/tags/data/repositories/tags_repository.dart`

**–©–æ –≤–∏–¥–∞–ª–µ–Ω–æ:**
- –ú–µ—Ç–æ–¥ `initializeDefaultTags()` –∑ 12 –¥–µ—Ñ–æ–ª—Ç–Ω–∏–º–∏ —Ç–µ–≥–∞–º–∏
- ~30 —Ä—è–¥–∫—ñ–≤ –∫–æ–¥—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–µ–ø–µ—Ä –ø–æ—á–∏–Ω–∞—é—Ç—å –∑ **–ü–£–°–¢–ò–ú** —Å–ø–∏—Å–∫–æ–º —Ç–µ–≥—ñ–≤
‚úÖ –ñ–æ–¥–Ω–∏—Ö –¥–µ—Ñ–æ–ª—Ç–Ω–∏—Ö —Ç–µ–≥—ñ–≤ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Å—Ç–≤–æ—Ä—é—é—Ç—å —Ç–µ–≥–∏ –≤—Ä—É—á–Ω—É –ø–æ –º—ñ—Ä—ñ –ø–æ—Ç—Ä–µ–±–∏

---

### 2. ‚úÖ –Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–µ—Ä–µ—Ç—å—Å—è –∑ —Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

**–§–∞–π–ª:** `lib/src/features/auth/presentation/screens/signup_screen.dart`

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
```dart
// –ü—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —ñ–º'—è –≤ –ø–æ–ª–µ "Full Name"
2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Firebase Auth –∞–∫–∞—É–Ω—Ç
3. –Ü–º'—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Firestore —á–µ—Ä–µ–∑ updateDisplayName()
4. –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ Settings
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚úÖ –Ü–º'—è –ù–ï –±–µ—Ä–µ—Ç—å—Å—è –∑ email
‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–∞–º –≤–≤–æ–¥–∏—Ç—å —Å–≤–æ—î —ñ–º'—è –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
‚úÖ –Ü–º'—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `users/{userId}/displayName`

---

### 3. ‚úÖ –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—é

**–ù–æ–≤–∏–π —Ñ–∞–π–ª:** `lib/src/features/settings/presentation/screens/change_password_screen.dart`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- ‚úÖ –ü–æ–ª–µ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—é (–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é)
- ‚úÖ –ü–æ–ª–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—é (–º—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤)
- ‚úÖ –ü–æ–ª–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—é
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —â–æ –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ
- ‚úÖ Re-authentication –¥–ª—è –±–µ–∑–ø–µ–∫–∏
- ‚úÖ –ü–æ–∫–∞–∑/–ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤–∏–º–æ–≥–∏ –¥–æ –ø–∞—Ä–æ–ª—é
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ Firebase Auth

**–§–∞–π–ª –æ–Ω–æ–≤–ª–µ–Ω–æ:** `lib/src/features/settings/presentation/screens/settings_screen.dart`
- –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç `ChangePasswordScreen`
- –ö–Ω–æ–ø–∫–∞ "Change password" —Ç–µ–ø–µ—Ä –≤—ñ–¥–∫—Ä–∏–≤–∞—î –Ω–æ–≤–∏–π –µ–∫—Ä–∞–Ω

---

## üß™ –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏:

### –¢–µ—Å—Ç 1: –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–µ–∑ —Ç–µ–≥—ñ–≤
```
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç
2. –í–≤–µ–¥—ñ—Ç—å —ñ–º'—è, email, –ø–∞—Ä–æ–ª—å
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ HomeScreen
4. –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ—Ç–∞—Ç–∫—É ‚Üí Add Tag
5. ‚úÖ –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ "No tags yet. Type to create your first tag!"
6. ‚úÖ –ñ–æ–¥–Ω–∏—Ö –¥–µ—Ñ–æ–ª—Ç–Ω–∏—Ö —Ç–µ–≥—ñ–≤ –Ω–µ–º–∞—î
```

### –¢–µ—Å—Ç 2: –Ü–º'—è –∑ —Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
```
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç –∑ —ñ–º'—è–º "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ"
2. Email: test@example.com
3. –ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó ‚Üí Settings
4. ‚úÖ –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ" (–ù–ï "test")
```

### –¢–µ—Å—Ç 3: –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—é
```
1. Settings ‚Üí Change password
2. –í–≤–µ–¥—ñ—Ç—å –ø–æ—Ç–æ—á–Ω–∏–π –ø–∞—Ä–æ–ª—å
3. –í–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å (–º—ñ–Ω—ñ–º—É–º 6 —Å–∏–º–≤–æ–ª—ñ–≤)
4. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –Ω–æ–≤–∏–π –ø–∞—Ä–æ–ª—å
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Change Password"
6. ‚úÖ –ü–∞—Ä–æ–ª—å –∑–º—ñ–Ω–µ–Ω–æ
7. ‚úÖ –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É—Å–ø—ñ—Ö—É
8. –í–∏–π–¥—ñ—Ç—å —ñ —É–≤—ñ–π–¥—ñ—Ç—å –∑ –Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º
9. ‚úÖ –ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å –ø—Ä–∞—Ü—é—î
```

### –¢–µ—Å—Ç 4: –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—é
```
–°–ø—Ä–æ–±—É–π—Ç–µ:
- ‚ùå –ü—É—Å—Ç–∏–π –ø–æ—Ç–æ—á–Ω–∏–π –ø–∞—Ä–æ–ª—å ‚Üí "Please enter your current password"
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ç–æ—á–Ω–∏–π –ø–∞—Ä–æ–ª—å ‚Üí "Current password is incorrect"
- ‚ùå –ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å < 6 —Å–∏–º–≤–æ–ª—ñ–≤ ‚Üí "Password must be at least 6 characters"
- ‚ùå –ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å = –ø–æ—Ç–æ—á–Ω–∏–π ‚Üí "New password must be different from current"
- ‚ùå –ü–∞—Ä–æ–ª—ñ –Ω–µ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å ‚Üí "Passwords do not match"
```

---

## üìä Firestore Rules - –ë–ï–ó –ó–ú–Ü–ù

–ü—Ä–∞–≤–∏–ª–∞ –ë–î –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è **–ë–ï–ó –ó–ú–Ü–ù**, –æ—Å–∫—ñ–ª—å–∫–∏:
- –¢–µ–≥–∏ –≤—Å–µ —â–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `users/{userId}/tags/`
- –ü—Ä–æ—Ñ—ñ–ª—å –≤—Å–µ —â–µ –≤ `users/{userId}`
- –ü–∞—Ä–æ–ª—å –ù–ï –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Firestore (Firebase Auth)

**–ü–æ—Ç–æ—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ**

---

## üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:

### Firestore:
```
users/
  {userId}/
    - displayName: "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ" (–∑ —Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó)
    - email: "test@example.com"
    - photoURL: "https://..." (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
    - createdAt: timestamp
    - updatedAt: timestamp
    
    notes/
      {noteId}/ ...
    
    tags/
      (–ü–£–°–¢–û –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞!)
```

### Firebase Auth:
```
User:
  - uid: "abc123"
  - email: "test@example.com"
  - password: (—Ö–µ—à–æ–≤–∞–Ω–∏–π, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è Firebase Auth)
```

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫ –∑–º—ñ–Ω:

**–í–∏–¥–∞–ª–µ–Ω–æ:**
- ‚ùå –ú–µ—Ç–æ–¥ `initializeDefaultTags()`
- ‚ùå 12 –¥–µ—Ñ–æ–ª—Ç–Ω–∏—Ö —Ç–µ–≥—ñ–≤
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ–≥—ñ–≤

**–î–æ–¥–∞–Ω–æ:**
- ‚úÖ –ï–∫—Ä–∞–Ω –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—é (`ChangePasswordScreen`)
- ‚úÖ –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –Ω–∞ –µ–∫—Ä–∞–Ω –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—é –∑ Settings
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–æ–ª—ñ–≤ –ø–∞—Ä–æ–ª—é
- ‚úÖ Re-authentication –¥–ª—è –±–µ–∑–ø–µ–∫–∏
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

**–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ:**
- ‚úÖ –Ü–º'—è –±–µ—Ä–µ—Ç—å—Å—è –∑ —Ñ–æ—Ä–º–∏ (–Ω–µ –∑ email)
- ‚úÖ –Ü–º'—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Firestore

---

## üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è!

–í—Å—ñ –∑–º—ñ–Ω–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–∞ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!

**Firestore Rules:** –ë–ï–ó –ó–ú–Ü–ù (–≤—Å–µ –ø—Ä–∞—Ü—é—î —è–∫ —î) ‚úÖ

---

*–ó–º—ñ–Ω–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ: 5 –≥—Ä—É–¥–Ω—è 2024*
*–í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ*

